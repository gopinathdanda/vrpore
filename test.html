<!DOCTYPE html>
<html lang="en">
  <head>
    <title>VRPore - 3D Demo of a Nanopore</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
      body {
        margin: 0px;
        overflow: hidden;
      }
      #example {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }
    </style>
  </head>
  <body>
    <div id="example"></div>

  <script src="js/third-party/threejs/three.js"></script>
  <script src="js/third-party/threejs/StereoEffect.js"></script>
  <script src="js/third-party/threejs/DeviceOrientationControls.js"></script>
  <script src="js/third-party/threejs/OrbitControls.js"></script>
	<script src="js/third-party/threejs/OrbitAndPanControls.js"></script>

  <script>
    var camera, scene, renderer;
	var cameraControls;
	var ambientLight, light;
	var clock = new THREE.Clock();
	
	// Initialize renderer, lights and camera
	function init(){
		var canvasWidth = window.innerWidth;
		var canvasHeight = window.innerHeight;
		var canvasRatio = canvasWidth/canvasHeight;
		
		// Renderer
		renderer = new THREE.WebGLRenderer({antialias: true});
		renderer.setSize( canvasWidth, canvasHeight );
		renderer.setClearColor(0xAAAAAA, 1.0);
		renderer.gammaInput = true;
		renderer.gammaOutput = true;
		
		// Camera
		camera = new THREE.PerspectiveCamera(45, canvasRatio, 1, 8000);
		camera.position.set(0, -433, 250);
		camera.lookAt(0,0,0);
		
		// Light
		ambientLight = new THREE.AmbientLight(0xFFFFFF);
		light = new THREE.DirectionalLight(0xFFFFFF, 0.7);
		light.position.set(-800, 900, 300);
		
		// Controls
		cameraControls = new THREE.OrbitControls(camera, renderer.domElement);
		cameraControls.target.set(0,0,0);
	}
	
	// Draw scene
	function drawScene(){
		scene = new THREE.Scene();
		scene.fog = new THREE.Fog(0x808080, 2000, 4000);
		scene.add(camera);
		scene.add(ambientLight);
		scene.add(light);
		
		var sphere = new THREE.SphereGeometry(20,32,32);
		var material = new THREE.MeshLambertMaterial({color:0xe10080});
		material.ambient.setRGB(material.color.r*0.4,material.color.g*0.4,material.color.b*0.4);
		var mesh = new THREE.Mesh(sphere,material);
		mesh.position.set(0,0,0);
		scene.add(mesh);
		
		var plane = new THREE.PlaneGeometry(400,400,32);
		var material2 = new THREE.MeshBasicMaterial({color:0xeeeeee,side: THREE.DoubleSide});
		//material2.ambient.setRGB(material2.color.r*0.4,material2.color.g*0.4,material2.color.b*0.4);
		var mesh2 = new THREE.Mesh(plane,material2);
		mesh2.position.set(0,0,0);
		scene.add(mesh2);
	}
	
	// Add to HTML page
	function addToDOM(){
		var container = document.getElementById('example');
		container.appendChild(renderer.domElement);
	}
	
	// Animate
	function animate(){
		window.requestAnimationFrame(animate);
		render();
	}
	
	// Render scene and camera
	function render(){
		var delta = clock.getDelta();
		cameraControls.update(delta);
		renderer.render(scene,camera);
	}
	
	try{
		init();
		drawScene();
		addToDOM();
		animate();
	}catch(e){
		
	}
  </script>
  </body>
</html>
